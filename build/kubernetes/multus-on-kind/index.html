<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.18">
<link rel="alternate" type="application/rss+xml" href="/rss.xml" title="Act as a catalyst RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/atom.xml" title="Act as a catalyst Atom Feed">
<link rel="alternate" type="application/json" href="/feed.json" title="Act as a catalyst JSON Feed">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","G-4ZT898XDT2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-4ZT898XDT2"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-4ZT898XDT2",{anonymize_ip:!0})</script>
<link rel="search" type="application/opensearchdescription+xml" title="Cloud Catalyst" href="/opensearch.xml">
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-4362752107119680" crossorigin="anonymous"></script><title data-rh="true">Multus on Kind cluster | Cloud Catalyst</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://ddii.dev/kubernetes/multus-on-kind/"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" name="naver-site-verification" content="cbcc03783e5594725d3951f4e7f16ede80e69881"><meta data-rh="true" property="og:title" content="Multus on Kind cluster | Cloud Catalyst"><meta data-rh="true" name="description" content="Multusë¥¼ Kind clusterì— ì„¤ì¹˜í•˜ëŠ” ë°©ë²•"><meta data-rh="true" property="og:description" content="Multusë¥¼ Kind clusterì— ì„¤ì¹˜í•˜ëŠ” ë°©ë²•"><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2024-09-21T00:00:00.000Z"><meta data-rh="true" property="article:author" content="https://www.linkedin.com/in/ddiiwoong/"><meta data-rh="true" property="article:tag" content="Kubernetes,multus,cni,kind,multiple network,macvlan,koko,kindnet"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ddii.dev/kubernetes/multus-on-kind/"><link data-rh="true" rel="alternate" href="https://ddii.dev/kubernetes/multus-on-kind/" hreflang="en"><link data-rh="true" rel="alternate" href="https://ddii.dev/kubernetes/multus-on-kind/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://UTLA0DRN66-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.1e7a31ee.css">
<link rel="preload" href="/assets/js/runtime~main.581a1a45.js" as="script">
<link rel="preload" href="/assets/js/main.868c5c64.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_ZgBM">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_ObN2"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo-catalyst.svg" alt="Cloud Catalyst" class="themedImage_W2Cr themedImage--light_TfLj"><img src="/img/logo-catalyst.svg" alt="Cloud Catalyst" class="themedImage_W2Cr themedImage--dark_oUvU"></div><b class="navbar__title">Cloud Catalyst</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/">Posts</a><div class="navbar__item dropdown dropdown--hoverable"><a class="navbar__link" aria-haspopup="true" aria-expanded="false" role="button" docid="introduction" href="/docs/prometheus/introduction/">Docs</a><ul class="dropdown__menu"><li><a class="dropdown__link" href="/docs/prometheus/introduction/">Prometheus</a></li></ul></div></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/tags/">Tags</a><a class="navbar__item navbar__link" href="/presentation/">Presentation</a><a class="navbar__item navbar__link" href="/archive/">Archive</a><a class="navbar__item navbar__link" href="/about/">About</a><a class="navbar__item navbar__link" href="/pang4u/">Pang4u</a><a href="https://github.com/ddiiwoong/newblog" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub repository"></a><div class="toggle_S7eR colorModeToggle_vKtC"><button class="clean-btn toggleButton_rCf9 toggleButtonDisabled_Pu9x" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_v35p"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_nQuB"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_qEbK"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_a9qW thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_uKok margin-bottom--md">Recent Posts</div><ul class="sidebarItemList_Kvuv"><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/kubernetes/headless-service/">Kubernetes Headless Service</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/kubernetes/externaldns/">ExternalDNS</a></li><li class="sidebarItem_CF0Q"><a aria-current="page" class="sidebarItemLink_miNk sidebarItemLinkActive_RRTD" href="/kubernetes/multus-on-kind/">Multus on Kind cluster</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/kubernetes/readinessandprobe/">íŒŒë“œ Readiness &amp; Probe</a></li><li class="sidebarItem_CF0Q"><a class="sidebarItemLink_miNk" href="/kubernetes/kernelhardening/">ì»¤ë„ ê°•í™” ë„êµ¬ ì‚¬ìš©í•˜ê¸°</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_rzP5" itemprop="headline">Multus on Kind cluster</h1><div class="blogPostData_Zg1s margin-vert--md"><time datetime="2024-09-21T00:00:00.000Z" itemprop="datePublished">September 21, 2024</time> Â· <!-- -->25 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--6 authorCol_FlmR"><div class="avatar margin-bottom--sm"><span class="avatar__photo-link avatar__photo"><a href="https://www.linkedin.com/in/ddiiwoong/" target="_blank" rel="noopener noreferrer"><img class="image_o0gy" src="https://s.gravatar.com/avatar/e8bfebcbeacb5b9a0c90614e792febf2?s=80" alt="Jinwoong Kim"></a></span><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://www.linkedin.com/in/ddiiwoong/" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Jinwoong Kim</span></a></div><small class="avatar__subtitle" itemprop="description">Technologist and Cloud Consultant</small></div></div></div></div></header><div id="post-content" class="markdown" itemprop="articleBody"><p>ì´ì „ ì§ì¥ì—ì„œ í”„ë¡œì íŠ¸ ì¤‘ì— <code>Multus</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ 5Gí™˜ê²½ì—ì„œ ë©€í‹° ë„¤íŠ¸ì›Œí¬ CNIë¥¼ ì‚¬ìš©í•´ì„œ íŒ¨í‚·ì„ ë¯¸ëŸ¬ë§í•˜ê³  í•´ë‹¹ íŒ¨í‚·ì„ ë¶„ì„í•˜ëŠ” í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í–ˆì—ˆëŠ”ë°, ë‹¹ì‹œì— ì—¬ëŸ¬ ì‚¬ì •ìœ¼ë¡œ ì•„ì‰½ê²Œ ëœ í”„ë¡œì íŠ¸ë„ ì¡´ì¬í•˜ê³  í•´ì„œ ì´ë²ˆ ê¸°íšŒì— ì‹œë¦¬ì¦ˆë¡œ ì •ë¦¬ í•´ë³´ë ¤ê³  í•œë‹¤. ì´ë²ˆ í¬ìŠ¤íŠ¸ì—ì„œëŠ” <code>Kind</code> clusterì— <code>Multus</code>ë¥¼ êµ¬ì„±í•˜ê³  ë‹¨ì¼ ì¸ìŠ¤í„´ìŠ¤ì—ì„œ ë…¸ë“œë¼ë¦¬ í†µì‹ í•  ìˆ˜ ìˆë„ë¡ <code>koko</code>ë¥¼ ì‚¬ìš©í•´ì„œ ë…¸ë“œê°„ ë©€í‹° ë„¤íŠ¸ì›Œí¬ í™˜ê²½ì„ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ì •ë¦¬í•´ë³´ë ¤ê³  í•œë‹¤.</p><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="requirements">Requirements<a class="hash-link" href="#requirements" title="Direct link to heading">â€‹</a></h2><ul><li><a href="https://kind.sigs.k8s.io/" target="_blank" rel="noopener noreferrer">Kind</a>: Kind(Kubernetes IN Docker)ëŠ” Docker ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©í•˜ì—¬ ë¡œì»¬ Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë„êµ¬ë‹¤. ì£¼ë¡œ í…ŒìŠ¤íŠ¸ ë° ê°œë°œ ëª©ì ìœ¼ë¡œ ì‚¬ìš©ë˜ë©°, ë¹ ë¥´ê³  ì‰½ê²Œ Kubernetes í™˜ê²½ì„ êµ¬ì¶•í•  ìˆ˜ ìˆë‹¤. </li><li><a href="https://github.com/k8snetworkplumbingwg/multus-cni" target="_blank" rel="noopener noreferrer">Multus</a>: MultusëŠ” Kubernetesì—ì„œ ì—¬ëŸ¬ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì§€ì›í•˜ê¸° ìœ„í•œ CNI í”ŒëŸ¬ê·¸ì¸ì´ë‹¤. Multusë¥¼ í†µí•´ ê° Podê°€ ì—¬ëŸ¬ ë„¤íŠ¸ì›Œí¬ì— ì—°ê²°ë  ìˆ˜ ìˆìœ¼ë©°, ë‹¤ì–‘í•œ ë„¤íŠ¸ì›Œí¬ ìš”êµ¬ ì‚¬í•­ì„ ì¶©ì¡±í•  ìˆ˜ ìˆë‹¤. íŠ¹íˆ 5G ì›Œí¬ë¡œë“œì—ì„œ SR-IOVì™€ í•¨ê»˜ ì‚¬ìš©ë  ë•Œ, MultusëŠ” ê¸°ë³¸ ë„¤íŠ¸ì›Œí¬ ì™¸ì—ë„ ê³ ì„±ëŠ¥ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•  ìˆ˜ ìˆë‹¤.<ul><li><a href="https://github.com/k8snetworkplumbingwg/sriov-network-device-plugin" target="_blank" rel="noopener noreferrer">SR-IOV</a>: SR-IOV(Single Root I/O Virtualization)ëŠ” í•˜ë‚˜ì˜ ë¬¼ë¦¬ì  ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì—¬ëŸ¬ ê°€ìƒ í•¨ìˆ˜(VF)ë¡œ ë‚˜ëˆ„ì–´ ê° Podì— ì§ì ‘ í• ë‹¹í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ê¸°ìˆ ì´ë‹¤. ì´ë¥¼ í†µí•´ ë„¤íŠ¸ì›Œí¬ ì„±ëŠ¥ì„ í¬ê²Œ í–¥ìƒì‹œí‚¬ ìˆ˜ ìˆìœ¼ë©°, íŠ¹íˆ ê³ ì„±ëŠ¥ ë„¤íŠ¸ì›Œí‚¹ì´ í•„ìš”í•œ 5G ë° NFV(Network Function Virtualization) í™˜ê²½ì—ì„œ ì¤‘ìš”í•˜ê²Œ ì‚¬ìš©ë˜ëŠ” ê¸°ìˆ ì´ë‹¤.</li></ul></li><li><a href="https://github.com/redhat-nfvpe/koko" target="_blank" rel="noopener noreferrer">Koko</a>: KokoëŠ” ì»¨í…Œì´ë„ˆ ê°„ ë„¤íŠ¸ì›Œí¬ ì—°ê²°ì„ ìœ„í•œ ë„êµ¬ë¡œ, íŠ¹íˆ ì—¬ëŸ¬ ë„¤íŠ¸ì›Œí¬ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê°„ì˜ ê°€ìƒ ì´ë”ë„· í˜ì–´ë¥¼ ìƒì„±í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. kind clusterì—ì„œ ì»¨í…Œì´ë„ˆë¡œ êµ¬ì„±ëœ ë…¸ë“œê°„ í†µì‹ ì„ ìœ„í•´ì„œ ì‚¬ìš©ëœë‹¤.</li><li><a href="https://github.com/containernetworking/plugins/tree/main/plugins/main/macvlan" target="_blank" rel="noopener noreferrer">Macvlan</a>: Macvlanì€ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ìƒí™”í•˜ì—¬ ì—¬ëŸ¬ ê°œì˜ ê°€ìƒ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ” ê¸°ìˆ ì´ë‹¤. ì´ë¥¼ í†µí•´ ê° ì»¨í…Œì´ë„ˆê°€ ê³ ìœ í•œ MAC ì£¼ì†Œë¥¼ ê°€ì§€ë©°, ë¬¼ë¦¬ ë„¤íŠ¸ì›Œí¬ì™€ ì§ì ‘ í†µì‹ í•  ìˆ˜ ìˆë‹¤.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="architecture">Architecture<a class="hash-link" href="#architecture" title="Direct link to heading">â€‹</a></h2><p><img loading="lazy" alt="koko" src="/assets/images/koko-27e3b38a60609fafbf86757382304d85.png" width="1281" height="861" class="img_E7b_"></p><p>ìœ„ ê·¸ë¦¼ì€ êµ¬ì„±í•˜ë ¤ê³  í•˜ëŠ” Kind í´ëŸ¬ìŠ¤í„°ì™€ ë„¤íŠ¸ì›Œí¬ êµ¬ì„±ì„ ë³´ì—¬ì¤€ë‹¤. Multusë¥¼ ì‚¬ìš©í•˜ë©´ Podê°€ ì—¬ëŸ¬ ë„¤íŠ¸ì›Œí¬ì— ë™ì‹œì— ì—°ê²°ë  ìˆ˜ ìˆì–´ ë³µì¡í•œ ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€ë¥¼ ì§€ì›í•  ìˆ˜ ìˆë‹¤.</p><ol><li><p><strong>Kind í´ëŸ¬ìŠ¤í„°</strong>: ê¸°ë³¸ì ìœ¼ë¡œ Docker ì»¨í…Œì´ë„ˆë¥¼ ì‚¬ìš©í•˜ì—¬ ë…¸ë“œë¥¼ ìƒì„±í•œë‹¤.</p><ul><li><strong>Control Plane</strong>: í´ëŸ¬ìŠ¤í„°ì˜ ì œì–´ ì˜ì—­ì„ ë‹´ë‹¹í•˜ë©°, <code>eth0</code> ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ Docker Bridgeì™€ ì—°ê²°ëœë‹¤.</li><li><strong>Worker Node 1 &amp; 2</strong>: ê°ê°ì˜ ì›Œì»¤ ë…¸ë“œëŠ” Pod í˜•íƒœë¡œ ì‹¤í–‰ë˜ë©°, <code>eth0</code> ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ Docker Bridgeì™€ ì—°ê²°ëœë‹¤.</li></ul></li><li><p><strong>ë„¤íŠ¸ì›Œí¬ êµ¬ì„±</strong>:</p><ul><li><strong>Primary Interface (eth0)</strong>: ê° ë…¸ë“œì˜ ê¸°ë³¸ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¡œ, Kindnet CNI í”ŒëŸ¬ê·¸ì¸ì„ í†µí•´ ì—°ê²°ëœë‹¤.</li><li><strong>Additional Interface (eth1)</strong>: Multus CNI í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ì—¬ ì¶”ê°€ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì œê³µí•œë‹¤. ì—¬ê¸°ì„œëŠ” <code>macvlan</code> í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ì—¬ Podì— ì¶”ê°€ ë„¤íŠ¸ì›Œí¬ë¥¼ ì œê³µí•œë‹¤.</li></ul></li><li><p><strong>Multus CNI</strong>:</p><ul><li>MultusëŠ” ì—¬ëŸ¬ CNI í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ë©€í‹°í”Œë ‰ì„œ ì—­í• ì„ í•œë‹¤. ìœ„ ê·¸ë¦¼ì—ì„œ ì²˜ëŸ¼ Kindnetê³¼ Macvlanì„ í•¨ê»˜ ì‚¬ìš©í•œë‹¤.</li></ul></li><li><p><strong>Docker ë¸Œë¦¬ì§€</strong>:</p><ul><li>ì»¨í…Œì´ë„ˆë¡œ ìƒì„±ëœ ê° ë…¸ë“œì˜ <code>eth0</code> ì¸í„°í˜ì´ìŠ¤ëŠ” Docker ë¸Œë¦¬ì§€ì™€ ì—°ê²°ë˜ì–´ ìˆìœ¼ë©°, <code>veth</code> í˜ì–´ë¥¼ í†µí•´ í†µì‹ í•œë‹¤.</li></ul></li><li><p><strong>Koko</strong>:</p><ul><li>ì»¨í…Œì´ë„ˆ ê°„ Point-to-Point ì—°ê²°ì„ ê´€ë¦¬í•˜ëŠ” ë° ì‚¬ìš©ë˜ëŠ” ë„êµ¬ì´ë‹¤. ê·¸ë¦¼ì—ì„œ ë‘ ì›Œì»¤ ë…¸ë“œ ê°„ì˜ ì§ì ‘ì ì¸ ì—°ê²°ì„ ì„¤ì •í•˜ëŠ” ì—­í• ì„ í•œë‹¤.</li><li>KokoëŠ” ê°€ìƒ ì´ë”ë„· í˜ì–´ë¥¼ ìƒì„±í•˜ì—¬ ì„œë¡œ ë‹¤ë¥¸ ë„¤íŠ¸ì›Œí¬ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê°„ì˜ ì§ì ‘ ì—°ê²°ì„ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤. ì´ë¥¼ í†µí•´ Kind í´ëŸ¬ìŠ¤í„° ë‚´ì˜ ì›Œì»¤ ë…¸ë“œ ê°„ì— ì¶”ê°€ì ì¸ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤(eth1)ë¥¼ ìƒì„±í•˜ê³  ì—°ê²°í•  ìˆ˜ ìˆë‹¤.</li><li>Kokoë¥¼ ì‚¬ìš©í•˜ë©´ ë³µì¡í•œ ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€ë¥¼ ì‰½ê²Œ êµ¬ì„±í•  ìˆ˜ ìˆìœ¼ë©°, íŠ¹íˆ ë©€í‹° ë„¤íŠ¸ì›Œí¬ í™˜ê²½ì—ì„œ ìœ ìš©í•˜ë‹¤.</li></ul></li></ol><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="kind-cluster-ìƒì„±">Kind Cluster ìƒì„±<a class="hash-link" href="#kind-cluster-ìƒì„±" title="Direct link to heading">â€‹</a></h2><p>ì´ë²ˆ êµ¬ì„±ì€ Intel ê¸°ë°˜ Ubuntu 22.04 í™˜ê²½ì—ì„œ ì§„í–‰ë˜ì—ˆë‹¤.</p><p><code>config-3node.yml</code> íŒŒì¼ì„ ì¤€ë¹„í•œë‹¤. ê¸°ë³¸ì ìœ¼ë¡œ <code>kindnet</code> CNI í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ê²Œ ë  ê²ƒì´ë‹¤. ì£¼ì„ì²˜ë¦¬ëœ êµ¬ë¬¸ì€ ì»¤ìŠ¤í…€ CNI í”ŒëŸ¬ê·¸ì¸ì„ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ì— ì‚¬ìš©ëœë‹¤.</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kind.x</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">k8s.io/v1alpha4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> multus</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">nodes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> control</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">plane</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">role</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Note: uncomment if you install cni plugin by yourself</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#networking:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#  disableDefaultCNI: true</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ìƒì„±í•œ yml íŒŒì¼ì„ ì‚¬ìš©í•˜ì—¬ í´ëŸ¬ìŠ¤í„°ë¥¼ ìƒì„±í•œë‹¤.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ kind create cluster --config config-3node.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Creating cluster </span><span class="token string" style="color:#e3116c">&quot;multus-cluster&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> âœ“ Ensuring </span><span class="token function" style="color:#d73a49">node</span><span class="token plain"> image </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">kindest/node:v1.31.0</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> ğŸ–¼</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> âœ“ Preparing nodes ğŸ“¦ ğŸ“¦ ğŸ“¦  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> âœ“ Writing configuration ğŸ“œ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> âœ“ Starting control-plane ğŸ•¹ï¸ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> âœ“ Installing CNI ğŸ”Œ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> âœ“ Installing StorageClass ğŸ’¾ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> âœ“ Joining worker nodes ğŸšœ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Set kubectl context to </span><span class="token string" style="color:#e3116c">&quot;kind-multus-cluster&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">You can now use your cluster with:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">kubectl cluster-info --context kind-multus-cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Not sure what to </span><span class="token keyword" style="color:#00009f">do</span><span class="token plain"> next? ğŸ˜…  Check out https://kind.sigs.k8s.io/docs/user/quick-start/</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>í´ëŸ¬ìŠ¤í„° ì •ë³´ë¥¼ í™•ì¸í•œë‹¤.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl cluster-info --context kind-multus-cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Kubernetes control plane is running at https://127.0.0.1:32935</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CoreDNS is running at https://127.0.0.1:32935/api/v1/namespaces/kube-system/services/kube-dns:dns/proxy</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>kubeconfigë¥¼ export í•œë‹¤.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ kind </span><span class="token builtin class-name">export</span><span class="token plain"> kubeconfig --name multus-cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Set kubectl context to </span><span class="token string" style="color:#e3116c">&quot;kind-multus-cluster&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>í´ëŸ¬ìŠ¤í„°ê°€ ì„±ê³µì ìœ¼ë¡œ ìƒì„±ë˜ì—ˆëŠ”ì§€ kubectlê³¼ docker ëª…ë ¹ì–´ë¡œ í™•ì¸í•  í•˜ë©´, ì›Œì»¤ ë…¸ë“œ ì´ë¦„ê³¼ docker ì»¨í…Œì´ë„ˆ ì´ë¦„ì´ ê°™ì€ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl get nodes </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME                           STATUS   ROLES           AGE     VERSION</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">multus-cluster-control-plane   Ready    control-plane   7m11s   v1.31.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">multus-cluster-worker          Ready    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">none</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">          6m59s   v1.31.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">multus-cluster-worker2         Ready    </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">none</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">          6m59s   v1.31.0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ps</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">CONTAINER ID   IMAGE                  COMMAND                  CREATED         STATUS         PORTS                       NAMES</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">6e4420eeaf93   kindest/node:v1.31.0   </span><span class="token string" style="color:#e3116c">&quot;/usr/local/bin/entrâ€¦&quot;</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">9</span><span class="token plain"> minutes ago   Up </span><span class="token number" style="color:#36acaa">9</span><span class="token plain"> minutes   </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1:32935-</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token number" style="color:#36acaa">6443</span><span class="token plain">/tcp   multus-cluster-control-plane</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">923ca6407417   kindest/node:v1.31.0   </span><span class="token string" style="color:#e3116c">&quot;/usr/local/bin/entrâ€¦&quot;</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">9</span><span class="token plain"> minutes ago   Up </span><span class="token number" style="color:#36acaa">9</span><span class="token plain"> minutes                               multus-cluster-worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">de238256402a   kindest/node:v1.31.0   </span><span class="token string" style="color:#e3116c">&quot;/usr/local/bin/entrâ€¦&quot;</span><span class="token plain">   </span><span class="token number" style="color:#36acaa">9</span><span class="token plain"> minutes ago   Up </span><span class="token number" style="color:#36acaa">9</span><span class="token plain"> minutes                               multus-cluster-worker2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ë…¸ë“œ ì»¨í…Œì´ë„ˆì— shë¡œ ì ‘ì†í•´ì„œ <code>ip a</code> ëª…ë ¹ì–´ë¡œ ì¸í„°í˜ì´ìŠ¤ ì •ë³´ë¥¼ í™•ì¸í•´ë³´ë©´, ë…¸ë“œì—ëŠ” <code>eth0</code> ì¸í„°í˜ì´ìŠ¤ë§Œ ì—°ê²°ë˜ì–´ ìˆëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì´ëŠ” <code>kindnet</code> CNI í”ŒëŸ¬ê·¸ì¸ì´ ê¸°ë³¸ì ìœ¼ë¡œ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤. </p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token builtin class-name">exec</span><span class="token plain"> -it multus-cluster-worker </span><span class="token function" style="color:#d73a49">sh</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># ip a</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">: lo: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">LOOPBACK,UP,LOWER_UP</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> mtu </span><span class="token number" style="color:#36acaa">65536</span><span class="token plain"> qdisc noqueue state UNKNOWN group default qlen </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1/8 scope </span><span class="token function" style="color:#d73a49">host</span><span class="token plain"> lo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 ::1/128 scope </span><span class="token function" style="color:#d73a49">host</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">23</span><span class="token plain">: eth0@if24: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">BROADCAST,MULTICAST,UP,LOWER_UP</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> mtu </span><span class="token number" style="color:#36acaa">1500</span><span class="token plain"> qdisc noqueue state UP group default </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/ether 02:42:ac:12:00:03 brd ff:ff:ff:ff:ff:ff link-netnsid </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet </span><span class="token number" style="color:#36acaa">172.18</span><span class="token plain">.0.3/16 brd </span><span class="token number" style="color:#36acaa">172.18</span><span class="token plain">.255.255 scope global eth0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 fc00:f853:ccd:e793::3/64 scope global nodad </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 fe80::42:acff:fe12:3/64 scope </span><span class="token function" style="color:#d73a49">link</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="multus-ì„¤ì¹˜">Multus ì„¤ì¹˜<a class="hash-link" href="#multus-ì„¤ì¹˜" title="Direct link to heading">â€‹</a></h2><p>MultusëŠ” <code>CRD</code>, <code>clusterrole</code>, <code>clusterrolebinding</code>, <code>serviceaccount</code>, <code>configmap</code>, <code>daemonset</code>ì„ ì„¤ì¹˜í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì„¤ì¹˜í•œë‹¤. </p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl apply -f https://raw.githubusercontent.com/k8snetworkplumbingwg/multus-cni/master/deployments/multus-daemonset.yml</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">customresourcedefinition.apiextensions.k8s.io/network-attachment-definitions.k8s.cni.cncf.io created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterrole.rbac.authorization.k8s.io/multus created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">clusterrolebinding.rbac.authorization.k8s.io/multus created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">serviceaccount/multus created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">configmap/multus-cni-config created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">daemonset.apps/kube-multus-ds created</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="kokoë¥¼-ì‚¬ìš©í•œ-ë…¸ë“œê°„-í†µì‹ -ì„¤ì •"><code>koko</code>ë¥¼ ì‚¬ìš©í•œ ë…¸ë“œê°„ í†µì‹  ì„¤ì •<a class="hash-link" href="#kokoë¥¼-ì‚¬ìš©í•œ-ë…¸ë“œê°„-í†µì‹ -ì„¤ì •" title="Direct link to heading">â€‹</a></h2><p><code>koko</code>ëŠ” Docker ì»¨í…Œì´ë„ˆ ë˜ëŠ” Linux ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ê°„ì— veth ì¥ì¹˜ë¥¼ ì‚¬ìš©í•˜ì—¬ í¬ì¸íŠ¸ íˆ¬ í¬ì¸íŠ¸ ì—°ê²°ì„ ì„¤ì •í•˜ëŠ” ë„êµ¬ì´ë‹¤. kokoëŠ” í•˜ë‚˜ì˜ í˜¸ìŠ¤íŠ¸ì—ì„œ ë‘ ê°œì˜ ì»¨í…Œì´ë„ˆì— ëŒ€í•´ì„œëŠ” vethë¥¼, ë³„ë„ì˜ í˜¸ìŠ¤íŠ¸ì—ì„œ ë‘ ê°œì˜ ì»¨í…Œì´ë„ˆì— ëŒ€í•´ì„œëŠ” vxlanë¡œ ì—°ê²°ì„ ì§€ì›í•œë‹¤. </p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="koko-ì„¤ì¹˜">koko ì„¤ì¹˜<a class="hash-link" href="#koko-ì„¤ì¹˜" title="Direct link to heading">â€‹</a></h3><p>í…ŒìŠ¤íŠ¸ë¥¼ ì§„í–‰í•  ë…¸ë“œì—ì„œ ë‹¤ìŒ ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•˜ì—¬ <code>koko</code>ë¥¼ ì„¤ì¹˜í•œë‹¤. <code>koko</code>ë¥¼ ì‚¬ìš©í•˜ì—¬ ì»¨í…Œì´ë„ˆ í˜¸ìŠ¤íŠ¸ì—ì„œ ì»¨í…Œì´ë„ˆë¥¼ ì—°ê²°í•˜ëŠ” ë°©ë²•ì€ vethë¥¼ ì‚¬ìš©í•œë‹¤. <a href="https://github.com/redhat-nfvpe/koko/blob/main/docs/Connecting-containers-in-container-host-using-veth.md" target="_blank" rel="noopener noreferrer">Connecting containers in container host using veth</a> ë¬¸ì„œë¥¼ ì°¸ê³ í•˜ë©´ ëœë‹¤. </p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">./koko </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">-c </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">linkname</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -d </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">container</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">linkname</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">IP addr</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">prefixlen</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -n </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">netns name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">linkname</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">IP addr</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">prefixlen</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -p </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">pid</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">linkname</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">IP addr</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">prefixlen</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -c </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">linkname</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain">-d </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">container</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">linkname</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">IP addr</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">prefixlen</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -n </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">netns name</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">linkname</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">IP addr</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">prefixlen</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -p </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">pid</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">linkname</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">,</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">IP addr</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">/</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">prefixlen</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain">,</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.</span><span class="token punctuation" style="color:#393A34">]</span><span class="token operator" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        -c </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">linkname</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">curl</span><span class="token plain"> -LO https://github.com/redhat-nfvpe/koko/releases/download/v0.83/koko_0.83_linux_amd64</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ë‹¤ìš´ë°›ì€ koko íŒŒì¼ì— ì‹¤í–‰ ê¶Œí•œì„ ì¶”ê°€í•˜ê³ , sudo ê¶Œí•œìœ¼ë¡œ ê° ë…¸ë“œ ì»¨í…Œì´ë„ˆì— <code>eth1</code> ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¶”ê°€í•˜ëŠ” ëª…ë ¹ì–´ë¥¼ ì‹¤í–‰í•œë‹¤. ì•„ë˜ ëª…ë ¹ì–´ëŠ” <code>multus-cluster-worker</code>ì™€ <code>multus-cluster-worker2</code>ë¼ëŠ” ë‘ Kind ë…¸ë“œ ê°„ì— veth í˜ì–´ë¥¼ ìƒì„±í•˜ê³ , ê° ë…¸ë“œì— ì¸í„°í˜ì´ìŠ¤ë¥¼ í• ë‹¹í•˜ê²Œ ëœë‹¤. </p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">chmod</span><span class="token plain"> +x koko_0.83_linux_amd64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">sudo</span><span class="token plain"> ./koko_0.83_linux_amd64 -d multus-cluster-worker,eth1 -d multus-cluster-worker2,eth1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Create veth</span><span class="token punctuation" style="color:#393A34">..</span><span class="token plain">.done</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>&quot;Create veth...done&quot; ë©”ì‹œì§€ëŠ” ì‹¤ì œë¡œ ìƒˆ vethê°€ ìƒì„±ë˜ì—ˆë‹¤ê¸° ë³´ë‹¤ëŠ” pairê°€ ìƒì„±ë˜ì–´ì„œ ê¸°ì¡´ docker bridgeì— ì—°ê²°ëœ vethì— ê° ë…¸ë“œ ì»¨í…Œì´ë„ˆì˜ <code>eth1</code> ì¸í„°í˜ì´ìŠ¤ê°€ ë§¤í•‘ë˜ì–´ ì¶”ê°€ëœ ê²ƒì´ë‹¤. ìƒì„¸ ì½”ë“œëŠ” <a href="https://github.com/redhat-nfvpe/koko/blob/bbe26f6c7e0124815573e22a2f28ff70bfd0db61/koko.go#L595" target="_blank" rel="noopener noreferrer">koko.go íŒŒì¼</a>ì—ì„œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><p><code>ip a</code> ëª…ë ¹ì–´ë¡œ ì¸í„°í˜ì´ìŠ¤ ì •ë³´ë¥¼ ë‹¤ì‹œ í™•ì¸í•´ë³´ë©´, ê° ë…¸ë“œ ì»¨í…Œì´ë„ˆì— ìƒˆë¡œìš´ <code>eth1</code> ì¸í„°í˜ì´ìŠ¤ê°€ ì¶”ê°€ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ </span><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token builtin class-name">exec</span><span class="token plain"> -it multus-cluster-worker </span><span class="token function" style="color:#d73a49">ip</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">: lo: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">LOOPBACK,UP,LOWER_UP</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> mtu </span><span class="token number" style="color:#36acaa">65536</span><span class="token plain"> qdisc noqueue state UNKNOWN group default qlen </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1/8 scope </span><span class="token function" style="color:#d73a49">host</span><span class="token plain"> lo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 ::1/128 scope </span><span class="token function" style="color:#d73a49">host</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">23</span><span class="token plain">: eth0@if24: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">BROADCAST,MULTICAST,UP,LOWER_UP</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> mtu </span><span class="token number" style="color:#36acaa">1500</span><span class="token plain"> qdisc noqueue state UP group default </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/ether 02:42:ac:12:00:03 brd ff:ff:ff:ff:ff:ff link-netnsid </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet </span><span class="token number" style="color:#36acaa">172.18</span><span class="token plain">.0.3/16 brd </span><span class="token number" style="color:#36acaa">172.18</span><span class="token plain">.255.255 scope global eth0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 fc00:f853:ccd:e793::3/64 scope global nodad </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 fe80::42:acff:fe12:3/64 scope </span><span class="token function" style="color:#d73a49">link</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">28</span><span class="token plain">: eth1@if27: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">BROADCAST,MULTICAST,UP,LOWER_UP</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> mtu </span><span class="token number" style="color:#36acaa">1500</span><span class="token plain"> qdisc noqueue state UP group default </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/ether 3e:da:c1:0e:3a:5d brd ff:ff:ff:ff:ff:ff link-netnsid </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 fe80::3cda:c1ff:fe0e:3a5d/64 scope </span><span class="token function" style="color:#d73a49">link</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="cni-ë ˆí¼ëŸ°ìŠ¤-í”ŒëŸ¬ê·¸ì¸-ì„¤ì¹˜">CNI ë ˆí¼ëŸ°ìŠ¤ í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜<a class="hash-link" href="#cni-ë ˆí¼ëŸ°ìŠ¤-í”ŒëŸ¬ê·¸ì¸-ì„¤ì¹˜" title="Direct link to heading">â€‹</a></h2><p><a href="https://github.com/containernetworking/plugins" target="_blank" rel="noopener noreferrer">CNI ë ˆí¼ëŸ°ìŠ¤ í”ŒëŸ¬ê·¸ì¸</a>ì€ ì»¨í…Œì´ë„ˆ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤(Container Network Interface)ì˜ í‘œì¤€ êµ¬í˜„ì²´ì´ë‹¤. ì´ í”ŒëŸ¬ê·¸ì¸ë“¤ì€ Kubernetesì™€ ê°™ì€ ì»¨í…Œì´ë„ˆ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ í”Œë«í¼ì—ì„œ ë„¤íŠ¸ì›Œí¬ ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. CNI ë ˆí¼ëŸ°ìŠ¤ í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•¨ìœ¼ë¡œì¨ í´ëŸ¬ìŠ¤í„° ê´€ë¦¬ìëŠ” ë‹¤ì–‘í•œ ë„¤íŠ¸ì›Œí‚¹ ìš”êµ¬ì‚¬í•­ì„ ì¶©ì¡±ì‹œí‚¤ê³ , ì»¨í…Œì´ë„ˆ ê°„ í†µì‹ ì„ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤. ì´ë²ˆ í…ŒìŠ¤íŠ¸ì—ì„œëŠ” macvlan êµ¬ì„±ì„ ì§„í–‰í•˜ì—¬ ìƒˆë¡œìš´ MAC ì£¼ì†Œë¥¼ ìƒì„±í•˜ê³ , ëª¨ë“  íŠ¸ë˜í”½ì„ í•´ë‹¹ ì»¨í…Œì´ë„ˆë¡œ ì „ë‹¬í•˜ëŠ” ë°©ì‹ì„ ì‚¬ìš©í•œë‹¤. ì„¤ì¹˜ëŠ” ë‹¤ìŒ yamlë¥¼ ì‚¬ìš©í•œë‹¤. </p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> ConfigMap</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cni</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">install</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kube</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">data</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">install_cni.sh</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">    cd /tmp</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">    wget https://github.com/containernetworking/plugins/releases/download/v1.5.1/cni-plugins-linux-amd64-v1.5.1.tgz</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">    cd /host/opt/cni/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">    tar xvfzp /tmp/cni-plugins-linux-amd64-v1.5.1.tgz</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">    sleep infinite</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> apps/v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> DaemonSet</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> install</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cni</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">namespace</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> kube</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">system</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cni</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">selector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">matchLabels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cni</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">template</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">labels</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cni</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">hostNetwork</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">nodeSelector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">kubernetes.io/arch</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> amd64</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">tolerations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">operator</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Exists</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">effect</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> NoSchedule</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> install</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cni</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">plugins</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> alpine</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;/bin/sh&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/scripts/install_cni.sh&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">resources</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">requests</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;100m&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;50Mi&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">limits</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">cpu</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;100m&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">memory</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;50Mi&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">securityContext</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">privileged</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token key atrule" style="color:#00a4db">volumeMounts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cni</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /host/opt/cni/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> scripts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">mountPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /scripts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">volumes</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cni</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">hostPath</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> /opt/cni/bin</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> scripts</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">configMap</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> cni</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">install</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">items</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">key</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> install_cni.sh</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">path</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> install_cni.sh</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>cni ì¸ìŠ¤í†¨ì„ ì„¤ì¹˜í•˜ëŠ” ìŠ¤í¬ë¦½íŠ¸ëŠ” cni-install-sh configmapì— ì •ì˜ë˜ì–´ ìˆë‹¤. í•´ë‹¹ í”ŒëŸ¬ê·¸ì¸ì€ ë…¸ë“œë§ˆë‹¤ ì„¤ì¹˜ë˜ì–´ì•¼ í•˜ë¯€ë¡œ daemonsetìœ¼ë¡œ ì„¤ì¹˜í•œë‹¤. ê¸€ì“°ëŠ” ë‹¹ì‹œì˜ ìµœì‹  ë²„ì „ì¸ 1.5.1ìœ¼ë¡œ ì„¤ì¹˜í•œë‹¤.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl create -f cni.yaml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">configmap/cni-install-sh created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">daemonset.apps/install-cni-plugins created</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="macvlanì„-ì‚¬ìš©í•˜ì—¬-ë‘-ê°œì˜-ì»¨í…Œì´ë„ˆ-ìƒì„±">macvlanì„ ì‚¬ìš©í•˜ì—¬ ë‘ ê°œì˜ ì»¨í…Œì´ë„ˆ ìƒì„±<a class="hash-link" href="#macvlanì„-ì‚¬ìš©í•˜ì—¬-ë‘-ê°œì˜-ì»¨í…Œì´ë„ˆ-ìƒì„±" title="Direct link to heading">â€‹</a></h2><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="macvlan">macvlan<a class="hash-link" href="#macvlan" title="Direct link to heading">â€‹</a></h3><p><code>macvlan</code>ì€ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ê°€ìƒí™”í•˜ì—¬ ì—¬ëŸ¬ ê°œì˜ ê°€ìƒ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆëŠ” ê¸°ìˆ ì´ë‹¤. ì´ë¥¼ í†µí•´ ê° ì»¨í…Œì´ë„ˆê°€ ê³ ìœ í•œ MAC ì£¼ì†Œë¥¼ ê°€ì§€ë©°, ë¬¼ë¦¬ ë„¤íŠ¸ì›Œí¬ì™€ ì§ì ‘ í†µì‹ í•  ìˆ˜ ìˆë‹¤. macvlanì€ Parent Intefaceë¥¼ ì´ìš©í•˜ì—¬ ì—¬ëŸ¬ê°œì˜ Child Interfaceë¥¼ ìƒì„±í•œë‹¤. Child InterfaceëŠ” ê°ê° ë³„ë„ì˜ MAC Addressì™€ macvlan Modeë¥¼ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. Modeì— ë”°ë¼ì„œ Child Intefaceê°„ì˜ í†µì‹ ì€ ê°€ëŠ¥í•˜ì§€ë§Œ, Modeì— ê´€ê³„ì—†ì´ Parent Interfaceì™€ Child InterfaceëŠ” ì„œë¡œ ì ˆëŒ€ë¡œ í†µì‹ ì´ ë¶ˆê°€ëŠ¥í•œê²Œ macvlanì˜ íŠ¹ì§• ì¤‘ í•˜ë‚˜ì´ë‹¤.</p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="networkattachmentdefinition">NetworkAttachmentDefinition<a class="hash-link" href="#networkattachmentdefinition" title="Direct link to heading">â€‹</a></h3><p><code>NetworkAttachmentDefinition</code>ì€ Multus CNIë¥¼ ì‚¬ìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¶”ê°€í•  ë•Œ ì‚¬ìš©ë˜ëŠ” ì˜¤ë¸Œì íŠ¸ì´ë‹¤. ì´ë¥¼ í†µí•´ ì»¨í…Œì´ë„ˆì— ì¶”ê°€ì ì¸ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í• ë‹¹í•  ìˆ˜ ìˆë‹¤. ì•„ë˜ì™€ ê°™ì´ macvlanì„ ì‚¬ìš©í•˜ì—¬ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¶”ê°€í•´ë³´ì.</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;k8s.cni.cncf.io/v1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> NetworkAttachmentDefinition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> macvlan</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">conf</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">config</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &#x27;</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">&quot;cniVersion&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0.3.1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">&quot;plugins&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">&quot;type&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;macvlan&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">&quot;capabilities&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">&quot;ips&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">&quot;master&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;eth1&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">&quot;mode&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;bridge&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">&quot;ipam&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">&quot;type&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;static&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token key atrule" style="color:#00a4db">&quot;routes&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">&quot;dst&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;0.0.0.0/0&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">                </span><span class="token key atrule" style="color:#00a4db">&quot;gw&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;10.1.1.1&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">&quot;capabilities&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">&quot;mac&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          </span><span class="token key atrule" style="color:#00a4db">&quot;type&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;tuning&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">&#x27;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ì´ <code>NetworkAttachmentDefinition</code>ì˜ ê° ë¶€ë¶„ì„ í•˜ë‚˜ì”© ì‚´í´ë³´ì. ì´ êµ¬ì„±ì€ <code>macvlan</code>ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ìƒì„±í•˜ê³ , ì •ì  IP í• ë‹¹ ë° ë¼ìš°íŒ…ì„ ì„¤ì •í•œë‹¤. ë˜í•œ <code>tuning</code> í”ŒëŸ¬ê·¸ì¸ì„ í†µí•´ MAC ì£¼ì†Œ ì„¤ì • ê¸°ëŠ¥ì„ ì¶”ê°€ë¡œ ì œê³µí•˜ê²Œ ëœë‹¤. </p><ul><li>name: &quot;macvlan-conf&quot;ë¡œ ì´ <code>NetworkAttachmentDefinition</code>ì˜ ì´ë¦„ì„ ì§€ì •í•œë‹¤.</li><li>cniVersion: ì‚¬ìš©ë˜ëŠ” CNI ìŠ¤í™ ë²„ì „ì„ ë‚˜íƒ€ë‚¸ë‹¤. ì—¬ê¸°ì„œëŠ” 0.3.1 ë²„ì „ì„ ì‚¬ìš©í•œë‹¤.</li><li>plugins: CNI í”ŒëŸ¬ê·¸ì¸ ëª©ë¡ì„ ì •ì˜í•œë‹¤.<ul><li>type: &quot;macvlan&quot; í”ŒëŸ¬ê·¸ì¸ ì‚¬ìš©</li><li>capabilities: IP ì£¼ì†Œ í• ë‹¹ ê¸°ëŠ¥ í™œì„±í™”</li><li>master: &quot;eth1&quot;ì„ ë§ˆìŠ¤í„° ì¸í„°í˜ì´ìŠ¤ë¡œ ì‚¬ìš©</li><li>mode: &quot;bridge&quot; ëª¨ë“œë¡œ ë™ì‘</li><li>ipam: IP ì£¼ì†Œ ê´€ë¦¬ ì„¤ì •<ul><li>type: &quot;static&quot;ìœ¼ë¡œ ì •ì  IP í• ë‹¹ ì‚¬ìš©</li><li>routes: ê¸°ë³¸ ë¼ìš°íŠ¸ ì„¤ì • (ê²Œì´íŠ¸ì›¨ì´: 10.1.1.1)</li></ul></li><li>capabilities: MAC ì£¼ì†Œ ì„¤ì • ê¸°ëŠ¥ í™œì„±í™”</li><li>type: &quot;tuning&quot; í”ŒëŸ¬ê·¸ì¸ì€ MAC ì£¼ì†Œ ì„¤ì • ê¸°ëŠ¥ì„ í™œì„±í™”í•˜ê¸° ìœ„í•´ ì‚¬ìš©</li></ul></li></ul><p><code>NetworkAttachmentDefinition</code> ë¦¬ì†ŒìŠ¤ë¥¼ ìƒì„±í•œë‹¤.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl apply -f nad.yaml </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">networkattachmentdefinition.k8s.cni.cncf.io/macvlan-conf created</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ëª¨ë“  ì¤€ë¹„ê°€ ì™„ë£Œë˜ì—ˆë‹¤. ì´ì œ ë©€í‹° ë„¤íŠ¸ì›Œí¬ íŒŒë“œë¥¼ ìƒì„±í•´ë³´ì. </p><h3 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="ë©€í‹°-ë„¤íŠ¸ì›Œí¬-íŒŒë“œ-ìƒì„±">ë©€í‹° ë„¤íŠ¸ì›Œí¬ íŒŒë“œ ìƒì„±<a class="hash-link" href="#ë©€í‹°-ë„¤íŠ¸ì›Œí¬-íŒŒë“œ-ìƒì„±" title="Direct link to heading">â€‹</a></h3><p>ë©€í‹° ë„¤íŠ¸ì›Œí¬ íŒŒë“œë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ì„œëŠ” <code>annotations</code>ì— ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ ì¶”ê°€í•´ì•¼ í•œë‹¤. ì´ì „ì— êµ¬ì„±í–ˆë˜ macvlan-confë¥¼ ì¶”ê°€í•˜ê³ , ê° íŒŒë“œì— í• ë‹¹ë  IP ì£¼ì†Œì™€ ê²Œì´íŠ¸ì›¨ì´ë¥¼ ì„¤ì •í•œë‹¤. ê·¸ë¦¬ê³  <code>netshoot</code> ì´ë¯¸ì§€ë¥¼ ì‚¬ìš©í•˜ì—¬ íŒŒë“œë¥¼ ìƒì„±í•œë‹¤. ë˜í•œ íŒŒë“œì— ëŒ€í•œ ë„¤íŠ¸ì›Œí¬ ëª…ë ¹ì–´ ì‹¤í–‰ì„ ìœ„í•´ <code>securityContext</code>ë¥¼ í†µí•´ íŒŒë“œì— ëŒ€í•œ ê¶Œí•œì„ ì„¤ì •í•˜ê³ , íŒŒë“œê°€ ì¢…ë£Œë  ë•Œ ìì›ì„ ì •ë¦¬í•˜ëŠ” ì„¤ì •ì„ í•œë‹¤. ê·¸ë¦¬ê³  ê° ë…¸ë“œì— ëŒ€í•œ ì„ íƒê³¼ í†µì‹  í™•ì¸ì„ ìœ„í•´ <code>nodeSelector</code> ì„¤ì •ìœ¼ë¡œ ì´ë¯¸ êµ¬ì„±í•œ ê° ë…¸ë“œ ì»¨í…Œì´ë„ˆì— íŒŒë“œë¥¼ ë°°ì¹˜í•œë‹¤.</p><div class="codeBlockContainer_I0IT language-yaml theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-yaml codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pod1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">k8s.v1.cni.cncf.io/networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &#x27;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">&quot;name&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;macvlan-conf&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">&quot;ips&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;10.1.1.101/24&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">&quot;gateway&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;10.1.1.1&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pod1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nicolaka/netshoot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;tail&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;-f&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/dev/null&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">securityContext</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">privileged</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">terminationGracePeriodSeconds</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">nodeSelector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">kubernetes.io/hostname</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> multus</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cluster</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">worker</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">---</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">apiVersion</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> v1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">kind</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Pod</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">metadata</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pod2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">annotations</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">k8s.v1.cni.cncf.io/networks</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &#x27;</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">&quot;name&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;macvlan-conf&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">&quot;ips&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;10.1.1.102/24&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">              </span><span class="token key atrule" style="color:#00a4db">&quot;gateway&quot;</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;10.1.1.1&quot;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">            </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain">&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">spec</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">containers</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> pod2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">image</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> nicolaka/netshoot</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">command</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;tail&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&quot;-f&quot;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&quot;/dev/null&quot;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">securityContext</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">privileged</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean important" style="color:#36acaa">true</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">terminationGracePeriodSeconds</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">nodeSelector</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">kubernetes.io/hostname</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> multus</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cluster</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">worker2</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>íŒŒë“œë¥¼ ìƒì„±í•œë‹¤.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl apply -f pod.yaml                                                                   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pod/pod1 created</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">pod/pod2 created</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="íŒŒë“œê°„-ì‹ ê·œ-ë„¤íŠ¸ì›Œí¬-ì¸í„°í˜ì´ìŠ¤-í†µì‹ -í™•ì¸">íŒŒë“œê°„ ì‹ ê·œ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ í†µì‹  í™•ì¸<a class="hash-link" href="#íŒŒë“œê°„-ì‹ ê·œ-ë„¤íŠ¸ì›Œí¬-ì¸í„°í˜ì´ìŠ¤-í†µì‹ -í™•ì¸" title="Direct link to heading">â€‹</a></h2><p>ë¨¼ì € íŒŒë“œì— í• ë‹¹ëœ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¸í•œë‹¤. ë¨¼ì € ì•„í‚¤í…ì²˜ êµ¬ì„±ë„ì— ë”°ë¼ì„œ íŒŒë“œì— í• ë‹¹ëœ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í™•ì¸ í•  ìˆ˜ ìˆë‹¤. eth0ì€ ë…¸ë“œì˜ ê¸°ì¡´ kindnet ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì´ê³ , net1ì€ multusì— ì˜í•´ ìƒˆë¡œ ìƒì„±ëœ macvlan ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl </span><span class="token builtin class-name">exec</span><span class="token plain"> -it pod1 -- </span><span class="token function" style="color:#d73a49">ip</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">: lo: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">LOOPBACK,UP,LOWER_UP</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> mtu </span><span class="token number" style="color:#36acaa">65536</span><span class="token plain"> qdisc noqueue state UNKNOWN group default qlen </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1/8 scope </span><span class="token function" style="color:#d73a49">host</span><span class="token plain"> lo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 ::1/128 scope </span><span class="token function" style="color:#d73a49">host</span><span class="token plain"> proto kernel_lo </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain">: eth0@if2: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">BROADCAST,MULTICAST,UP,LOWER_UP</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> mtu </span><span class="token number" style="color:#36acaa">1500</span><span class="token plain"> qdisc noqueue state UP group default </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/ether ba:aa:3b:d1:7c:50 brd ff:ff:ff:ff:ff:ff link-netnsid </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet </span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.1.2/24 brd </span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.1.255 scope global eth0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 fe80::b8aa:3bff:fed1:7c50/64 scope </span><span class="token function" style="color:#d73a49">link</span><span class="token plain"> proto kernel_ll </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3</span><span class="token plain">: net1@if20: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">BROADCAST,MULTICAST,UP,LOWER_UP</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> mtu </span><span class="token number" style="color:#36acaa">1500</span><span class="token plain"> qdisc noqueue state UP group default </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/ether a6:64:d5:ee:c4:91 brd ff:ff:ff:ff:ff:ff link-netnsid </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.101/24 brd </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.255 scope global net1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 fe80::a464:d5ff:feee:c491/64 scope </span><span class="token function" style="color:#d73a49">link</span><span class="token plain"> proto kernel_ll </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl </span><span class="token builtin class-name">exec</span><span class="token plain"> -it pod2 -- </span><span class="token function" style="color:#d73a49">ip</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">: lo: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">LOOPBACK,UP,LOWER_UP</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> mtu </span><span class="token number" style="color:#36acaa">65536</span><span class="token plain"> qdisc noqueue state UNKNOWN group default qlen </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1/8 scope </span><span class="token function" style="color:#d73a49">host</span><span class="token plain"> lo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 ::1/128 scope </span><span class="token function" style="color:#d73a49">host</span><span class="token plain"> proto kernel_lo </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain">: eth0@if2: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">BROADCAST,MULTICAST,UP,LOWER_UP</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> mtu </span><span class="token number" style="color:#36acaa">1500</span><span class="token plain"> qdisc noqueue state UP group default </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/ether fa:82:35:f3:28:62 brd ff:ff:ff:ff:ff:ff link-netnsid </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet </span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.2.2/24 brd </span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.2.255 scope global eth0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 fe80::f882:35ff:fef3:2862/64 scope </span><span class="token function" style="color:#d73a49">link</span><span class="token plain"> proto kernel_ll </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">3</span><span class="token plain">: net1@if19: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">BROADCAST,MULTICAST,UP,LOWER_UP</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> mtu </span><span class="token number" style="color:#36acaa">1500</span><span class="token plain"> qdisc noqueue state UP group default </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/ether 7e:af:c9:aa:18:8b brd ff:ff:ff:ff:ff:ff link-netnsid </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.102/24 brd </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.255 scope global net1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 fe80::7caf:c9ff:feaa:188b/64 scope </span><span class="token function" style="color:#d73a49">link</span><span class="token plain"> proto kernel_ll </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ë…¸ë“œì—ì„œ í™•ì¸í•´ë³´ë©´ íŒŒë“œì— í• ë‹¹ëœ <code>veth</code> ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ê°€ ì¶”ê°€ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token function" style="color:#d73a49">docker</span><span class="token plain"> </span><span class="token builtin class-name">exec</span><span class="token plain"> -it multus-cluster-worker </span><span class="token function" style="color:#d73a49">ip</span><span class="token plain"> a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">1</span><span class="token plain">: lo: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">LOOPBACK,UP,LOWER_UP</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> mtu </span><span class="token number" style="color:#36acaa">65536</span><span class="token plain"> qdisc noqueue state UNKNOWN group default qlen </span><span class="token number" style="color:#36acaa">1000</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet </span><span class="token number" style="color:#36acaa">127.0</span><span class="token plain">.0.1/8 scope </span><span class="token function" style="color:#d73a49">host</span><span class="token plain"> lo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 ::1/128 scope </span><span class="token function" style="color:#d73a49">host</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">2</span><span class="token plain">: veth3775384b@if2: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">BROADCAST,MULTICAST,UP,LOWER_UP</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> mtu </span><span class="token number" style="color:#36acaa">1500</span><span class="token plain"> qdisc noqueue state UP group default </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/ether </span><span class="token number" style="color:#36acaa">52</span><span class="token plain">:f5:78:4b:a1:0b brd ff:ff:ff:ff:ff:ff link-netns cni-2632d959-3e52-354c-cde2-3b5e27ba6d86</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet </span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.1.1/32 scope global veth3775384b</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 fe80::50f5:78ff:fe4b:a10b/64 scope </span><span class="token function" style="color:#d73a49">link</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">23</span><span class="token plain">: eth0@if24: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">BROADCAST,MULTICAST,UP,LOWER_UP</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> mtu </span><span class="token number" style="color:#36acaa">1500</span><span class="token plain"> qdisc noqueue state UP group default </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/ether 02:42:ac:12:00:03 brd ff:ff:ff:ff:ff:ff link-netnsid </span><span class="token number" style="color:#36acaa">0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet </span><span class="token number" style="color:#36acaa">172.18</span><span class="token plain">.0.3/16 brd </span><span class="token number" style="color:#36acaa">172.18</span><span class="token plain">.255.255 scope global eth0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 fc00:f853:ccd:e793::3/64 scope global nodad </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 fe80::42:acff:fe12:3/64 scope </span><span class="token function" style="color:#d73a49">link</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">28</span><span class="token plain">: eth1@if27: </span><span class="token operator" style="color:#393A34">&lt;</span><span class="token plain">BROADCAST,MULTICAST,UP,LOWER_UP</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> mtu </span><span class="token number" style="color:#36acaa">1500</span><span class="token plain"> qdisc noqueue state UP group default </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    link/ether 3e:da:c1:0e:3a:5d brd ff:ff:ff:ff:ff:ff link-netnsid </span><span class="token number" style="color:#36acaa">1</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    inet6 fe80::3cda:c1ff:fe0e:3a5d/64 scope </span><span class="token function" style="color:#d73a49">link</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       valid_lft forever preferred_lft forever</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ê° íŒŒë“œì—ì„œ ì‹ ê·œë¡œ ì¶”ê°€ëœ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¡œì˜ í†µì‹ ì„ í™•ì¸í•œë‹¤.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl </span><span class="token builtin class-name">exec</span><span class="token plain"> -it pod1 -- </span><span class="token function" style="color:#d73a49">ping</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.102</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PING </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.102 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.102</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">56</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">84</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> bytes of data.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> bytes from </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.102: </span><span class="token assign-left variable" style="color:#36acaa">icmp_seq</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">ttl</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">time</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.065</span><span class="token plain"> ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> bytes from </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.102: </span><span class="token assign-left variable" style="color:#36acaa">icmp_seq</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">ttl</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">time</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.034</span><span class="token plain"> ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> bytes from </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.102: </span><span class="token assign-left variable" style="color:#36acaa">icmp_seq</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">ttl</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">time</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.035</span><span class="token plain"> ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl </span><span class="token builtin class-name">exec</span><span class="token plain"> -it pod2 -- </span><span class="token function" style="color:#d73a49">ping</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.101</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PING </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.101 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.101</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">56</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">84</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> bytes of data.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> bytes from </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.101: </span><span class="token assign-left variable" style="color:#36acaa">icmp_seq</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">ttl</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">time</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.027</span><span class="token plain"> ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> bytes from </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.101: </span><span class="token assign-left variable" style="color:#36acaa">icmp_seq</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">ttl</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">time</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.032</span><span class="token plain"> ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> bytes from </span><span class="token number" style="color:#36acaa">10.1</span><span class="token plain">.1.101: </span><span class="token assign-left variable" style="color:#36acaa">icmp_seq</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">ttl</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">time</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.026</span><span class="token plain"> ms</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><p>ì›ë˜ CNIë¥¼ í†µí•´ í• ë‹¹ëœ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ëŠ” íŒŒë“œê°„ í†µì‹ ë„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.</p><div class="codeBlockContainer_I0IT language-bash theme-code-block"><div class="codeBlockContent_wNvx" style="color:#393A34;background-color:#f6f8fa"><pre tabindex="0" class="prism-code language-bash codeBlock_jd64 thin-scrollbar"><code class="codeBlockLines_mRuA"><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl </span><span class="token builtin class-name">exec</span><span class="token plain"> -it pod1 -- </span><span class="token function" style="color:#d73a49">ping</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.2.2</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PING </span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.2.2 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.2.2</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">56</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">84</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> bytes of data.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> bytes from </span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.2.2: </span><span class="token assign-left variable" style="color:#36acaa">icmp_seq</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">ttl</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">62</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">time</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.136</span><span class="token plain"> ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> bytes from </span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.2.2: </span><span class="token assign-left variable" style="color:#36acaa">icmp_seq</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">ttl</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">62</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">time</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.081</span><span class="token plain"> ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> bytes from </span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.2.2: </span><span class="token assign-left variable" style="color:#36acaa">icmp_seq</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">ttl</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">62</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">time</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.079</span><span class="token plain"> ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">$ kubectl </span><span class="token builtin class-name">exec</span><span class="token plain"> -it pod2 -- </span><span class="token function" style="color:#d73a49">ping</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.2.1                                                    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PING </span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.2.1 </span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.2.1</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">56</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">84</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> bytes of data.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> bytes from </span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.2.1: </span><span class="token assign-left variable" style="color:#36acaa">icmp_seq</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">1</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">ttl</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">time</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.041</span><span class="token plain"> ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> bytes from </span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.2.1: </span><span class="token assign-left variable" style="color:#36acaa">icmp_seq</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">2</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">ttl</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">time</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.045</span><span class="token plain"> ms</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> bytes from </span><span class="token number" style="color:#36acaa">10.244</span><span class="token plain">.2.1: </span><span class="token assign-left variable" style="color:#36acaa">icmp_seq</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">3</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">ttl</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">64</span><span class="token plain"> </span><span class="token assign-left variable" style="color:#36acaa">time</span><span class="token operator" style="color:#393A34">=</span><span class="token number" style="color:#36acaa">0.031</span><span class="token plain"> ms</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" title="Copy" class="copyButton_eDfN clean-btn"><span class="copyButtonIcons_W9eQ" aria-hidden="true"><svg class="copyButtonIcon_XEyF" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_i9w9" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_R0VQ" id="ì •ë¦¬">ì •ë¦¬<a class="hash-link" href="#ì •ë¦¬" title="Direct link to heading">â€‹</a></h2><p>ì´ í¬ìŠ¤íŠ¸ì—ì„œëŠ” Kind í´ëŸ¬ìŠ¤í„°ì— Multusë¥¼ ì„¤ì¹˜í•˜ê³  kokoë¥¼ ì‚¬ìš©í•˜ì—¬ ë…¸ë“œ ê°„ ë©€í‹° ë„¤íŠ¸ì›Œí¬ í™˜ê²½ì„ êµ¬ì„±í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë´¤ë‹¤. ì£¼ìš” ë‚´ìš©ì„ ìš”ì•½í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.</p><ol><li>Kindë¥¼ ì‚¬ìš©í•˜ì—¬ í•˜ë‚˜ì˜ í˜¸ìŠ¤íŠ¸ì—ì„œ Kubernetes í´ëŸ¬ìŠ¤í„°ë¥¼ ìƒì„±í•œë‹¤.</li><li>Multus CNIë¥¼ ì„¤ì¹˜í•˜ì—¬ ë‹¤ì¤‘ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ ì§€ì›ì„ ì¶”ê°€í•œë‹¤.</li><li>koko ë„êµ¬ë¥¼ ì‚¬ìš©í•˜ì—¬ ë…¸ë“œ ê°„ ì§ì ‘ í†µì‹ ì„ ìœ„í•œ veth í˜ì–´ë¥¼ ìƒì„±í•œë‹¤.</li><li>CNI ë ˆí¼ëŸ°ìŠ¤ í”ŒëŸ¬ê·¸ì¸ì„ ì„¤ì¹˜í•˜ì—¬ macvlan ë„¤íŠ¸ì›Œí¬ë¥¼ êµ¬ì„±í•œë‹¤.</li><li>NetworkAttachmentDefinitionì„ ìƒì„±í•˜ì—¬ Multusì— macvlan ë„¤íŠ¸ì›Œí¬ë¥¼ ì •ì˜í•œë‹¤.</li><li>í…ŒìŠ¤íŠ¸ìš© íŒŒë“œë¥¼ ë°°í¬í•˜ì—¬ ì¶”ê°€ëœ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•œ í†µì‹ ì„ í™•ì¸í•œë‹¤.</li></ol><p>ì´ êµ¬ì„±ì„ í†µí•´ ë‹¨ì¼ Kind í´ëŸ¬ìŠ¤í„° ë‚´ì—ì„œ ë‹¤ì¤‘ ë„¤íŠ¸ì›Œí¬ í™˜ê²½ì„ ì‹œë®¬ë ˆì´ì…˜í•  ìˆ˜ ìˆì—ˆë‹¤. ì´ëŠ” ë³µì¡í•œ ë„¤íŠ¸ì›Œí¬ í† í´ë¡œì§€ê°€ í•„ìš”í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ ê°œë°œ ë° í…ŒìŠ¤íŠ¸ì— ìœ ìš©í•  ìˆ˜ ìˆë‹¤. íŠ¹íˆ 5G ë„¤íŠ¸ì›Œí¬ë‚˜ NFV í™˜ê²½ê³¼ ê°™ì´ ê³ ì„±ëŠ¥ ë„¤íŠ¸ì›Œí‚¹ì´ í•„ìš”í•œ ì‹œë‚˜ë¦¬ì˜¤ì—ì„œ ì´ëŸ¬í•œ ì„¤ì •ì´ ë„ì›€ì´ ë  ìˆ˜ ìˆë‹¤.</p><p>ì´ ì ‘ê·¼ ë°©ì‹ì€ ê°œë°œ ë° í…ŒìŠ¤íŠ¸ í™˜ê²½ì—ì„œ ìœ ìš©í•˜ì§€ë§Œ, í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œëŠ” ì¶”ê°€ì ì¸ ê³ ë ¤ì‚¬í•­ê³¼ ìµœì í™”ê°€ í•„ìš”í•  ìˆ˜ ìˆë‹¤. ë„¤íŠ¸ì›Œí¬ ë³´ì•ˆ, ì„±ëŠ¥, í™•ì¥ì„± ë“±ì˜ ì¸¡ë©´ì—ì„œ ë” ê¹Šì´ ìˆëŠ” ê²€í† ê°€ í•„ìš”í•  ê²ƒì´ë‹¤.</p><p>ì´ˆë°˜ì— ë©€í‹° ë„¤íŠ¸ì›Œí¬ CNIë¥¼ ì‚¬ìš©í•´ì„œ íŒ¨í‚·ì„ ë¯¸ëŸ¬ë§í•˜ê³  í•´ë‹¹ íŒ¨í‚·ì„ ë¶„ì„í•˜ëŠ” í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í–ˆì—ˆë‹¤ëŠ” ë‚´ìš©ì„ ì–¸ê¸‰í–ˆì—ˆëŠ”ë°, ë‹¤ìŒ í¬ìŠ¤íŒ…ì—ì„œëŠ” multusì™€ ì»¨í…Œì´ë„ˆ ë¯¸ëŸ¬ë§ ë„êµ¬ë¡œ íŒ¨í‚·ì„ ë¯¸ëŸ¬ë§í•˜ê³  pcap exporterë¥¼ ì‚¬ìš©í•´ì„œ íŒ¨í‚·ì˜ 5-tuple ì •ë³´ë¥¼ ë¶„ì„í•˜ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ì ì–´ë³´ë ¤ê³  í•œë‹¤.</p></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_h6_j"><div class="col"><b>Tags:</b><ul class="tags_XVD_ padding--none margin-left--sm"><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/tags/kubernetes/">Kubernetes</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/tags/multus/">multus</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/tags/cni/">cni</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/tags/kind/">kind</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/tags/multiple-network/">multiple network</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/tags/macvlan/">macvlan</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/tags/koko/">koko</a></li><li class="tag_JSN8"><a class="tag_hD8n tagRegular_D6E_" href="/tags/kindnet/">kindnet</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/ddiiwoong/newblog/tree/main/blog/2024-09-21-multus-on-kind.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_dcUD" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><div></div><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/kubernetes/externaldns/"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">ExternalDNS</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/kubernetes/readinessandprobe/"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">íŒŒë“œ Readiness &amp; Probe</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_cNA8 thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#requirements" class="table-of-contents__link toc-highlight">Requirements</a></li><li><a href="#architecture" class="table-of-contents__link toc-highlight">Architecture</a></li><li><a href="#kind-cluster-ìƒì„±" class="table-of-contents__link toc-highlight">Kind Cluster ìƒì„±</a></li><li><a href="#multus-ì„¤ì¹˜" class="table-of-contents__link toc-highlight">Multus ì„¤ì¹˜</a></li><li><a href="#kokoë¥¼-ì‚¬ìš©í•œ-ë…¸ë“œê°„-í†µì‹ -ì„¤ì •" class="table-of-contents__link toc-highlight"><code>koko</code>ë¥¼ ì‚¬ìš©í•œ ë…¸ë“œê°„ í†µì‹  ì„¤ì •</a><ul><li><a href="#koko-ì„¤ì¹˜" class="table-of-contents__link toc-highlight">koko ì„¤ì¹˜</a></li></ul></li><li><a href="#cni-ë ˆí¼ëŸ°ìŠ¤-í”ŒëŸ¬ê·¸ì¸-ì„¤ì¹˜" class="table-of-contents__link toc-highlight">CNI ë ˆí¼ëŸ°ìŠ¤ í”ŒëŸ¬ê·¸ì¸ ì„¤ì¹˜</a></li><li><a href="#macvlanì„-ì‚¬ìš©í•˜ì—¬-ë‘-ê°œì˜-ì»¨í…Œì´ë„ˆ-ìƒì„±" class="table-of-contents__link toc-highlight">macvlanì„ ì‚¬ìš©í•˜ì—¬ ë‘ ê°œì˜ ì»¨í…Œì´ë„ˆ ìƒì„±</a><ul><li><a href="#macvlan" class="table-of-contents__link toc-highlight">macvlan</a></li><li><a href="#networkattachmentdefinition" class="table-of-contents__link toc-highlight">NetworkAttachmentDefinition</a></li><li><a href="#ë©€í‹°-ë„¤íŠ¸ì›Œí¬-íŒŒë“œ-ìƒì„±" class="table-of-contents__link toc-highlight">ë©€í‹° ë„¤íŠ¸ì›Œí¬ íŒŒë“œ ìƒì„±</a></li></ul></li><li><a href="#íŒŒë“œê°„-ì‹ ê·œ-ë„¤íŠ¸ì›Œí¬-ì¸í„°í˜ì´ìŠ¤-í†µì‹ -í™•ì¸" class="table-of-contents__link toc-highlight">íŒŒë“œê°„ ì‹ ê·œ ë„¤íŠ¸ì›Œí¬ ì¸í„°í˜ì´ìŠ¤ í†µì‹  í™•ì¸</a></li><li><a href="#ì •ë¦¬" class="table-of-contents__link toc-highlight">ì •ë¦¬</a></li></ul></div></div></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Blog</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/">Home</a></li><li class="footer__item"><a class="footer__link-item" href="/archive/">Archive</a></li><li class="footer__item"><a class="footer__link-item" href="/tags/">Tags</a></li></ul></div><div class="col footer__col"><div class="footer__title">Sponsors</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/pang4u/">Pang4U</a></li><li class="footer__item"><a href="https://ko-fi.com/ddiiwoong" target="_blank" rel="noopener noreferrer" class="footer__link-item">Buy Me a Coffee<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/ddiiwoong" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://twitter.com/ddiiwoong" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.facebook.com/ddiiwoong" target="_blank" rel="noopener noreferrer" class="footer__link-item">Facebook<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://kr.linkedin.com/in/ddiiwoong" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_I5OW"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div></div></footer></div>
<script src="/assets/js/runtime~main.581a1a45.js"></script>
<script src="/assets/js/main.868c5c64.js"></script>
</body>
</html>